---
tags:
  - 数据类型
  - 底层
---

## 常量

常量在程序运行阶段，值无法改变。

以下是一些常用的数据表现形式：

| 常量类型  | 举例                                                         |
| ----- | ---------------------------------------------------------- |
| 整型常量  | `1000`, `12345`, `0`, `-345`                               |
| 实型常量  | `12.34e3`, `-34.8E-23`                                     |
| 字符常量  | 普通字符、转义字符： `'a'`, `'Z'`, `'#'`, `'\n'`, `'\012'`, `'\h1B'` |
| 字符串常量 | `"123"`, `"Hello"`                                         |
| 符号常量  | `define PI 3.1416` (预处理语句末尾无分号)                            |

### 常用转义字符

#记忆

`\n` : 换行
`\r` : 回车
`\ddd` : 八进制
`\xhhh` : 十六进制

> [!tip] 
> - `\"` 可以在字符串中将双引号转移成为字符串，而不是关键字。可以拓展到单引号、反斜线等特殊字符。
> - 字符常量只能包含一个字符，但字符串常量可以包含多个字符。

## 变量

- 变量是一个有特定属性的储存单元。
- 变量有名字，用来存放数据。
- 变量在程序运行期间，其值可以被改变。
- 变量必须先定义后引用。

```c
int a = 10; // 变量名为 a，变量值为 10，整体称为一个储存单元。
```

### 常变量

常变量在运行期间，其值不能改变。

```c
const int a = 3; // 一个名字为 a，值为 3 的常整形变量。
```

> [!question] 区分常量和常变量
> - 常量没有名字；
> - 常变量是有名字的不可变变量。

### 整型变量

- 只有整型、字符型数据可以加 `signed` 或 `unsigned` 修饰符，实型数据不能加；
- 对于无符号整形数据用 `"%u"` 格式输出。

```c
unsigned short price = 50;
printf("%u\n", price);
```

定义为无符号整形之后，则不应将其赋予一个负值。否则会出现错误：

```c
unsigned short price = -1;
printf("%d\n", price);
```

根据 [[补码]] 的知识，计算机将不会把真实数据以前的数据当作复数进行解释，因此会输出：

```
> 65535
```

### 字符变量

```c
char c = '?';
printf("%d, %c\n", c, c);
```

字符变量的值使用 [[ASCII码]] 储存。运行上方的程序，计算机将输出：

```
> 63, ?
```

### 浮点型变量

> [!info] 
> 小数点可以浮动，所以被称为浮点型

```c
// 单精度类型
float a = 3.14159
// 双精度类型
double b = 3.14159265358979
// 长双精度类型
long double c = 3.14159265358979323846264
```

小数部分占的bit越多，小数越精确。

C编译系统会把浮点类型的变量按照双精度储存，占 8 bit。

## 标识符

- 标识符就是对象的**名字**。
- 标识符 **只能由字母、数字、下划线组成**，且 **第1个字符只能是字母或下划线**。
- 标识符不能和C语言 [[关键字]] 重复。

以下声明是合法的：

```c
int abandon;
bool _good_;
float object_011;
```

以下声明**不能**被接受：

```c
int 1student;
bool 变量10;
float void;
```

## 类型转换

### 自动类型转换

用户不用干预，系统自动进行的类型转换。

```
8 / 4.0 = 2.0
```
### 强制类型转换

自动类型转换不能满足时，可以强制转换。

```c
(double)a;
(int)(x+y);
(float)(5%3);
(int)x+y; // 强制转换 x ，再与y相加
```

强制转换后，`(int)x` 将会得到一个临时的值，不会改变 `x` 的值：

```c
int a;
float x = 3.5;
a = (int)x;
// a = 3, x = 3.5
```